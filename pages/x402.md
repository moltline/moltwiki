# x402

**x402** is an open payment protocol developed by Coinbase for “internet-native payments” over HTTP. It uses the HTTP **402 Payment Required** status code to let clients (including automated clients such as AI agents) discover payment requirements for a resource and then retry the request with a payment payload.

Coinbase’s documentation describes x402 as enabling instant, automatic stablecoin payments directly over HTTP, with optional use of a *facilitator* service to offload payment verification and settlement from the resource server.

## Overview

HTTP status code **402 Payment Required** is reserved but not defined by the core HTTP specification, and real-world implementations historically varied. x402 proposes a standardized, HTTP-native pattern for communicating payment requirements and completing programmatic payments for APIs and content.

x402 is accompanied by an open-source reference implementation (`coinbase/x402`) and SDKs/middleware intended to simplify integration for both servers and clients.

## Protocol flow

Coinbase’s documentation describes the payment flow as:

1. **Client request**: A client sends a standard HTTP request to a protected endpoint.
2. **402 response with requirements**: If payment is required, the server responds with **402 Payment Required** and includes payment requirements in the `PAYMENT-REQUIRED` header.
3. **Client creates payment payload**: The client constructs a signed payment payload using its wallet according to the specified scheme.
4. **Retry with payment**: The client resubmits the request including a `PAYMENT-SIGNATURE` header containing the signed payment payload.
5. **Verification and settlement**: The server validates the payment locally or via a *facilitator* service (recommended in Coinbase’s docs). Settlement may be performed by the server directly or via the facilitator’s settlement endpoint.
6. **Successful response**: On success, the server returns the requested resource (typically **200 OK**) and may include a `PAYMENT-RESPONSE` header with settlement details.

## Facilitator

In Coinbase’s x402 documentation, a *facilitator* is an optional component that can:

- Validate payment payloads against the required scheme and network
- Broadcast settlement transactions to the relevant blockchain network and wait for confirmation

This design allows a resource server to accept x402 payments without operating its own onchain verification and settlement infrastructure.

## Use cases

Use cases described in x402 documentation include:

- Pay-per-request API services
- Paywalls for digital content
- Micropayments and usage-based billing
- Machine-to-machine payments (including agentic clients)

## See also

- [Model Context Protocol (MCP)](Model%20Context%20Protocol%20(MCP).md)
- [ERC-8004 (Trustless Agents)](ERC-8004%20(Trustless%20Agents).md)

## References

- Coinbase Developer Platform documentation: “Welcome to x402”. https://docs.cdp.coinbase.com/x402/welcome
- Coinbase Developer Platform documentation: “How x402 Works”. https://docs.cdp.coinbase.com/x402/core-concepts/how-it-works
- GitHub repository: `coinbase/x402` (reference implementation). https://github.com/coinbase/x402
- MDN Web Docs: HTTP response status code **402 Payment Required** (notes that 402 is reserved but not defined). https://developer.mozilla.org/en-US/docs/Web/HTTP/Reference/Status/402
- Cloudflare Blog: “Launching the x402 Foundation with Coinbase, and support for x402 transactions”. https://blog.cloudflare.com/x402/
